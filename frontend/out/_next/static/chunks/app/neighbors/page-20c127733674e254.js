(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[414],{5214:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorage",{enumerable:!0,get:function(){return a.workAsyncStorageInstance}});let a=r(17828)},7810:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},12813:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(95155),s=r(83278),n=r(7810),i=r(24538),o=r(78340);let l=(0,o.A)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var c=r(46029);let d=(0,o.A)("signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]);var u=r(13364),p=r(75707);let h=r.n(p)()(()=>Promise.all([r.e(784),r.e(934)]).then(r.bind(r,55934)),{loadableGenerated:{webpack:()=>[55934]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"glass-card h-[400px] flex items-center justify-center",children:(0,a.jsx)("div",{className:"text-white/50",children:"Loading map..."})})});function f({neighbors:e,localNode:t}){return(0,a.jsx)(h,{neighbors:e,localNode:t})}var m=r(64964);function g(){let{stats:e}=(0,s.Pj)(),t=e?.neighbors??{},r=Object.entries(t),o=e?.config?.repeater?{latitude:e.config.repeater.latitude,longitude:e.config.repeater.longitude,name:e.config.node_name||"Local Node"}:void 0,p=r.filter(([,e])=>e.latitude&&e.longitude&&0!==e.latitude&&0!==e.longitude).length;return(0,a.jsxs)("div",{className:"section-gap",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-baseline sm:justify-between",children:[(0,a.jsxs)("h1",{className:"type-title text-text-primary flex items-center gap-3",children:[(0,a.jsx)(n.A,{className:"w-6 h-6 text-accent-primary flex-shrink-0"}),"Neighbors"]}),(0,a.jsxs)("div",{className:"flex items-baseline gap-3 sm:gap-4",children:[(0,a.jsxs)("span",{className:"roster-title tabular-nums",children:[r.length," node",1!==r.length?"s":""]}),p>0&&(0,a.jsxs)("span",{className:"roster-title flex items-baseline gap-1.5 tabular-nums",children:[(0,a.jsx)(i.A,{className:"w-3.5 h-3.5 relative top-[2px]"}),p," with location"]})]})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(f,{neighbors:t,localNode:o})}),(0,a.jsxs)("div",{className:"chart-container",children:[(0,a.jsxs)("div",{className:"chart-header",children:[(0,a.jsxs)("div",{className:"chart-title",children:[(0,a.jsx)(n.A,{className:"chart-title-icon"}),"Discovered Nodes"]}),(0,a.jsxs)("span",{className:"type-data-xs text-text-muted tabular-nums",children:[r.length," total"]})]}),r.length>0?(0,a.jsx)("div",{className:"roster-list",children:r.map(([e,t],s)=>{var n;let o=t.latitude&&t.longitude&&0!==t.latitude&&0!==t.longitude,p=t.node_name||t.name||"Unknown",h=t.snr??0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"roster-row",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"roster-icon",children:t.is_repeater?(0,a.jsx)(l,{className:"w-5 h-5 text-accent-primary"}):(0,a.jsx)(c.A,{className:"w-5 h-5 text-text-muted"})}),(0,a.jsx)("div",{className:`absolute -top-0.5 -right-0.5 w-2.5 h-2.5 rounded-full ${void 0===(n=t.snr)?"bg-[var(--signal-unknown)]":n>=5?"bg-[var(--signal-excellent)]":n>=0?"bg-[var(--signal-good)]":n>=-5?"bg-[var(--signal-fair)]":n>=-10?"bg-[var(--signal-poor)]":"bg-[var(--signal-critical)]"} border-2 border-bg-surface`})]}),(0,a.jsxs)("div",{className:"roster-content",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"roster-title",children:p}),t.is_repeater&&(0,a.jsx)("span",{className:"pill-tag",children:"RPT"})]}),(0,a.jsx)(m.Q,{hash:e,size:"sm"})]}),(0,a.jsxs)("div",{className:"roster-metrics",children:[void 0!==t.rssi&&(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,a.jsx)(d,{className:"w-3.5 h-3.5"}),(0,a.jsx)("span",{className:"type-data-xs tabular-nums",children:t.rssi})]}),void 0!==t.snr&&(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:(0,a.jsxs)("span",{className:"type-data-xs tabular-nums",children:[h.toFixed(1)," dB"]})}),o&&(0,a.jsx)(i.A,{className:"w-3.5 h-3.5 text-accent-tertiary"})]}),(0,a.jsx)("div",{className:"roster-metric",children:t.last_seen?(0,u.fw)(t.last_seen):"—"})]}),s<r.length-1&&(0,a.jsx)("div",{className:"roster-separator"})]},e)})}):(0,a.jsxs)("div",{className:"roster-empty",children:[(0,a.jsx)(n.A,{className:"roster-empty-icon"}),(0,a.jsx)("div",{className:"roster-empty-title",children:"No Neighbors Discovered"}),(0,a.jsx)("div",{className:"roster-empty-text",children:"Neighbors will appear here as they advertise on the mesh network."})]})]})]})}},13364:(e,t,r)=>{"use strict";function a(e){if(e<60)return`${Math.floor(e)}s`;let t=Math.floor(e/86400),r=Math.floor(e%86400/3600),a=Math.floor(e%3600/60),s=[];return t>0&&s.push(`${t}d`),r>0&&s.push(`${r}h`),(a>0||0===s.length)&&s.push(`${a}m`),s.join(" ")}function s(e){let t=Date.now()/1e3-e;return t<60?"just now":t<3600?`${Math.floor(t/60)}m ago`:t<86400?`${Math.floor(t/3600)}h ago`:`${Math.floor(t/86400)}d ago`}function n(e){return new Date(1e3*e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}function i(e){return new Date(1e3*e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"})}function o(e){return`${(e/1e6).toFixed(3)} MHz`}function l(e){return`${(e/1e3).toFixed(1)} kHz`}r.d(t,{$o:()=>l,QR:()=>o,Y0:()=>a,fU:()=>i,fw:()=>s,r6:()=>n})},16919:(e,t,r)=>{Promise.resolve().then(r.bind(r,12813))},17828:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"workAsyncStorageInstance",{enumerable:!0,get:function(){return a}});let a=(0,r(64054).createAsyncLocalStorage)()},21957:(e,t,r)=>{"use strict";function a({moduleIds:e}){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return a}}),r(95155),r(47650),r(5214),r(2451)},24538:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},27529:(e,t,r)=>{"use strict";r.d(t,{A_:()=>u,Fz:()=>m,GT:()=>n,He:()=>_,Nw:()=>c,Ty:()=>f,V0:()=>o,VS:()=>y,ao:()=>i,bx:()=>d,f3:()=>p,iY:()=>h,w7:()=>g});let a=r(41463).env.NEXT_PUBLIC_API_URL||"";async function s(e,t){let r=`${a}${e}`,s={};if(t?.headers){let e=t.headers;e instanceof Headers?e.forEach((e,t)=>{s[t]=e}):Array.isArray(e)?e.forEach(([e,t])=>{s[e]=t}):Object.assign(s,e)}t?.body&&(s["Content-Type"]="application/json");let n=await fetch(r,{...t,headers:s});if(!n.ok)throw Error(`API error: ${n.status} ${n.statusText}`);return n.json()}async function n(){return s("/api/stats")}async function i(){return s("/api/logs")}async function o(e=100){return s(`/api/recent_packets?limit=${e}`)}async function l(e){let t=Math.max(e.limit||1e3,5e3),r=await o(t);if(!r.success||!r.data)return r;let a=r.data;return void 0!==e.type&&(a=a.filter(t=>(t.type??t.payload_type)===e.type)),void 0!==e.route&&(a=a.filter(t=>(t.route??t.route_type)===e.route)),e.start_timestamp&&(a=a.filter(t=>t.timestamp>=e.start_timestamp)),e.end_timestamp&&(a=a.filter(t=>t.timestamp<=e.end_timestamp)),e.limit&&a.length>e.limit&&(a=a.slice(0,e.limit)),{success:!0,data:a,count:a.length}}async function c(e=24){return s(`/api/packet_type_graph_data?hours=${e}`)}async function d(e=24){return s(`/api/noise_floor_chart_data?hours=${e}`)}async function u(){return s("/api/hardware_stats")}async function p(){return s("/api/send_advert",{method:"POST",body:"{}"})}async function h(e){return s("/api/set_mode",{method:"POST",body:JSON.stringify({mode:e})})}async function f(e){return s("/api/set_duty_cycle",{method:"POST",body:JSON.stringify({enabled:e})})}async function m(e=20,t=20){try{let r=Math.floor(Date.now()/1e3),a=r-60*e,s=60*e/t,n=await l({start_timestamp:a,end_timestamp:r,limit:5e3});if(!n.success||!n.data)return{success:!1,error:n.error||"Failed to fetch packets"};let i=n.data,o=()=>{let e=[];for(let r=0;r<t;r++)e.push({bucket:r,start:a+r*s,end:a+(r+1)*s,count:0,avg_snr:0,avg_rssi:0});return e},c=o(),d=o(),u=o(),p=o(),h=c.map(()=>({snr:0,rssi:0,count:0}));for(let e of i){let r=Math.floor((e.timestamp-a)/s);if(r<0||r>=t)continue;let n=e.packet_origin;"tx_local"===n?d[r].count++:"tx_forward"===n||e.transmitted?u[r].count++:e.drop_reason&&p[r].count++,"tx_local"!==n&&(c[r].count++,h[r].snr+=e.snr||0,h[r].rssi+=e.rssi||0,h[r].count++)}for(let e=0;e<t;e++)h[e].count>0&&(c[e].avg_snr=h[e].snr/h[e].count,c[e].avg_rssi=h[e].rssi/h[e].count);return{success:!0,data:{time_range_minutes:e,bucket_count:t,bucket_duration_seconds:s,start_time:a,end_time:r,received:c,transmitted:d,forwarded:u,dropped:p}}}catch(e){return{success:!1,error:String(e)}}}async function g(e=24){try{let t=Math.floor(Date.now()/1e3),r=t-3600*e,[a,s]=await Promise.all([l({start_timestamp:r,end_timestamp:t,limit:5e4}),n()]);if(!a.success||!a.data)return{success:!1,error:a.error||"Failed to fetch packets"};let i=a.data,o=s.config?.radio?.spreading_factor||8,c=1e3*(s.config?.radio?.bandwidth||125),d=[];for(let t=0;t<e;t++)d.push({t:(r+3600*t)*1e3,tx_airtime_ms:0,rx_airtime_ms:0,tx_pkts:0,rx_pkts_ok:0,tx_util_pct:0,rx_util_decoded_pct:0,radio_activity_pct:0,avg_rx_airtime_ms_per_pkt:0,avg_tx_airtime_ms_per_pkt:0});for(let t of i){let a=Math.floor((t.timestamp-r)/3600);if(a<0||a>=e)continue;let s=t.length||t.payload_length||32,n=function(e,t=8,r=125e3){let a=Math.pow(2,t)/(r/1e3);return 8*a+(e+4.25)*8*a}(s,o,c),i=t.packet_origin;"tx_local"===i||"tx_forward"===i||t.transmitted?(d[a].tx_airtime_ms+=n,d[a].tx_pkts++):(d[a].rx_airtime_ms+=n,d[a].rx_pkts_ok++)}for(let e of d)e.tx_util_pct=e.tx_airtime_ms/36e5*100,e.rx_util_decoded_pct=e.rx_airtime_ms/36e5*100,e.radio_activity_pct=(e.tx_airtime_ms+e.rx_airtime_ms)/36e5*100,e.rx_pkts_ok>0&&(e.avg_rx_airtime_ms_per_pkt=e.rx_airtime_ms/e.rx_pkts_ok),e.tx_pkts>0&&(e.avg_tx_airtime_ms_per_pkt=e.tx_airtime_ms/e.tx_pkts);return{success:!0,data:{bins:d,bin_duration_seconds:3600,hours:e,anomaly_counters:{missing_airtime_ms:0,outlier_bins:0}}}}catch(e){return{success:!1,error:String(e)}}}async function y(e){return s("/api/update_radio_config",{method:"POST",body:JSON.stringify(e)})}async function _(e){return s("/api/set_log_level",{method:"POST",body:JSON.stringify({level:e})})}},29722:(e,t,r)=>{"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{$:()=>a,A:()=>s});let s=a},41112:(e,t,r)=>{"use strict";function a({reason:e,children:t}){return t}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}}),r(1980)},46029:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("radio",[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},64054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bindSnapshot:function(){return l},createAsyncLocalStorage:function(){return o},createSnapshot:function(){return c}};for(var a in r)Object.defineProperty(t,a,{enumerable:!0,get:r[a]});let s=Object.defineProperty(Error("Invariant: AsyncLocalStorage accessed in runtime where it is not available"),"__NEXT_ERROR_CODE",{value:"E504",enumerable:!1,configurable:!0});class n{disable(){throw s}getStore(){}run(){throw s}exit(){throw s}enterWith(){throw s}static bind(e){return e}}let i="undefined"!=typeof globalThis&&globalThis.AsyncLocalStorage;function o(){return i?new i:new n}function l(e){return i?i.bind(e):n.bind(e)}function c(){return i?i.snapshot():function(e,...t){return e(...t)}}},64964:(e,t,r)=>{"use strict";r.d(t,{Q:()=>l});var a=r(95155),s=r(12115),n=r(94514);let i=(0,r(78340).A)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var o=r(29722);function l({hash:e,prefixLength:t=8,suffixLength:r=6,full:l=!1,className:c,size:d="md"}){let[u,p]=(0,s.useState)(!1),[h,f]=(0,s.useState)(!1),m=(0,s.useRef)(null),g=(0,s.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),m.current&&clearTimeout(m.current);let r=function(e){if((window.isSecureContext||"https:"===window.location.protocol||"localhost"===window.location.hostname)&&navigator.clipboard&&"function"==typeof navigator.clipboard.writeText)return navigator.clipboard.writeText(e).catch(()=>{}),!0;try{let t=document.createElement("input");t.setAttribute("type","text"),t.setAttribute("value",e),t.style.position="fixed",t.style.left="0",t.style.top="0",t.style.opacity="0",t.style.pointerEvents="none",document.body.appendChild(t),t.focus(),t.select(),t.setSelectionRange(0,e.length);let r=document.execCommand("copy");return document.body.removeChild(t),r}catch(e){return console.error("Copy failed:",e),!1}}(e);p(!0),m.current=setTimeout(()=>p(!1),2e3),r||console.warn("Copy may have failed for:",e.slice(0,16)+"...")},[e]),y=l||e.length<=t+r+3?e:`${e.slice(0,t)}…${e.slice(-r)}`;return(0,a.jsxs)("button",{type:"button",onClick:g,onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),className:(0,o.A)("inline-flex items-center font-mono rounded-md transition-all duration-200","bg-bg-subtle/80 hover:bg-bg-elevated border border-border-subtle hover:border-border-strong","cursor-pointer select-none","sm"===d?"text-[10px] px-1.5 py-0.5 gap-1":"text-xs px-2 py-1 gap-1.5",c),title:`Click to copy: ${e}`,"aria-label":`Copy hash ${e}`,children:[(0,a.jsx)("span",{className:(0,o.A)("transition-colors duration-200",u?"text-accent-success":"text-text-secondary"),children:y}),(0,a.jsx)("span",{className:(0,o.A)("flex items-center justify-center transition-all duration-200","sm"===d?"w-3 h-3":"w-3.5 h-3.5"),children:u?(0,a.jsx)(n.A,{className:(0,o.A)("text-accent-success","sm"===d?"w-2.5 h-2.5":"w-3 h-3")}):(0,a.jsx)(i,{className:(0,o.A)("transition-opacity duration-200",h?"opacity-70":"opacity-40","sm"===d?"w-2.5 h-2.5":"w-3 h-3")})})]})}},68635:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return l}});let a=r(95155),s=r(12115),n=r(41112);function i(e){return{default:e&&"default"in e?e.default:e}}r(21957);let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},l=function(e){let t={...o,...e},r=(0,s.lazy)(()=>t.loader().then(i)),l=t.loading;function c(e){let i=l?(0,a.jsx)(l,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,c=o?s.Suspense:s.Fragment,d=t.ssr?(0,a.jsxs)(a.Fragment,{children:[null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(c,{...o?{fallback:i}:{},children:d})}return c.displayName="LoadableComponent",c}},75707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let a=r(73623)._(r(68635));function s(e,t){let r={};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,a.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78340:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(12115);let s=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},n=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:l,iconNode:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:n("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(l)?l:[l]])),l=(e,t)=>{let r=(0,a.forwardRef)(({className:r,...i},l)=>(0,a.createElement)(o,{ref:l,iconNode:t,className:n(`lucide-${s(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...i}));return r.displayName=s(e),r}},83278:(e,t,r)=>{"use strict";let a;r.d(t,{p5:()=>v,xe:()=>x,Sg:()=>_,rf:()=>y,XL:()=>g,jg:()=>f,fL:()=>m,Xb:()=>p,T:()=>h,Ni:()=>b,J3:()=>d,B7:()=>u,Pj:()=>c});var s=r(12115);let n=e=>{let t,r=new Set,a=(e,a)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=a?a:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,n={setState:a,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(a,s,n);return n},i=e=>{let t=e?n(e):n,r=e=>(function(e,t=e=>e){let r=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r};var o=r(27529);let l=(a=(e,t)=>({stats:null,statsLoading:!1,statsError:null,packets:[],packetsLoading:!1,packetsError:null,lastPacketTimestamp:0,logs:[],logsLoading:!1,liveMode:!0,flashReceived:0,flashAdvert:0,fetchStats:async()=>{e({statsLoading:!0,statsError:null});try{let t=await o.GT();e({stats:t,statsLoading:!1})}catch(t){e({statsError:t instanceof Error?t.message:"Failed to fetch stats",statsLoading:!1})}},fetchPackets:async(r=50)=>{e({packetsLoading:!0,packetsError:null});try{let a=await o.V0(r);if(a.success&&a.data){let r=a.data,{lastPacketTimestamp:s}=t(),n=r.length>0?Math.max(...r.map(e=>e.timestamp??0)):0;n>s&&s>0&&e({flashReceived:t().flashReceived+1}),e({packets:r,packetsLoading:!1,lastPacketTimestamp:n||s})}else e({packetsError:a.error||"Failed to fetch packets",packetsLoading:!1})}catch(t){e({packetsError:t instanceof Error?t.message:"Failed to fetch packets",packetsLoading:!1})}},fetchLogs:async()=>{e({logsLoading:!0});try{let t=await o.ao();e({logs:t.logs,logsLoading:!1})}catch(t){e({logsLoading:!1})}},setLiveMode:t=>{e({liveMode:t})},setMode:async e=>{try{(await o.iY(e)).success&&await t().fetchStats()}catch(e){console.error("Failed to set mode:",e)}},setDutyCycle:async e=>{try{(await o.Ty(e)).success&&t().fetchStats()}catch(e){console.error("Failed to set duty cycle:",e)}},sendAdvert:async()=>{try{let r=await o.f3();return r.success&&e({flashAdvert:t().flashAdvert+1}),r.success}catch(e){return console.error("Failed to send advert:",e),!1}},triggerFlashReceived:()=>{e({flashReceived:t().flashReceived+1})},triggerFlashAdvert:()=>{e({flashAdvert:t().flashAdvert+1})}}))?i(a):i,c=l,d=()=>l(e=>e.stats),u=()=>l(e=>e.statsError),p=()=>l(e=>e.packets),h=()=>l(e=>e.packetsLoading),f=()=>l(e=>e.logs),m=()=>l(e=>e.logsLoading),g=()=>l(e=>e.liveMode),y=()=>l(e=>e.flashReceived),_=()=>l(e=>e.flashAdvert),x=()=>l(e=>e.fetchPackets),v=()=>l(e=>e.fetchLogs),b=()=>l(e=>e.setLiveMode)},94514:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(78340).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])}},e=>{_N_E=e(e.s=16919)}]);